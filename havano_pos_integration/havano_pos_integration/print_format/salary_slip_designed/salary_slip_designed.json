{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-05-17 22:15:13.254177",
 "css": ".print-format {\n    padding: 20px !important;\n}\nbody {\n    font-family: Arial !important;\n    /*margin: 20px;*/\n    /*padding: 20px;*/\n    background-color: #f4f4f4;\n    font-size: 16px;\n}\n.less-header{\n    text-align: center;\n    font-size: 14px;\n    /*margin-top: -30px;*/\n    margin-bottom: 15px;\n}\n.right{\n    text-align: left;\n}\n.payslip {\n    width: 100%;\n    background: #fff;\n    padding: 40px;\n    border: 1px solid #000;\n    font-family: \"EB Garamond\", serif;\n    /*height: 150vh;*/\n    /*margin: auto;*/\n}\n.header-container {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    position: relative;\n}\n.header {\n    font-size: 30px;\n    font-weight: bold;\n    position: absolute;\n    left: 50%;\n    transform: translateX(-50%);\n    text-align: center;\n}\n.logo {\n    margin-left: auto;\n}\n.logo img {\n    width: 150px;\n    height: auto;\n}\n.sub-header {\n    text-align: center;\n    font-size: 22px;\n    /*margin-top: -30px;*/\n    margin-bottom: 40px;\n}\n\n.earnings-table {\n    width: 100%;\n    border-collapse: collapse;\n    margin-bottom: 65px;\n    border: 1px solid;\n    font-size: 14px;\n}\n.info-table{\n    width: 100%;\n    border-collapse: collapse;\n    margin-bottom: 30px;\n    font-size: 15px;\n}\n.info-table td {\n    padding: 5px;\n}\n.earnings-table th{\n    border: 1px solid #000;\n    padding: 8px;\n    text-align: left;\n}\n.earnings-table th {\n    background: #ddd;\n}\n.total {\n    font-weight: bold;\n    margin-bottom: 20px;\n}\n.signature {\n    margin-top: 70px;\n    display: flex;\n    justify-content: space-between;\n    font-weight: bold;\n    margin-bottom: 30px;\n}\n.red{\n    color: red;\n}\n.footer{\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-between;\n    width: 100%;\n    padding: 0px 10px;\n    font-size: 15px;\n    line-height: 1.5rem;\n}\n.footer-right{\n    text-align: right;\n    \n}\n.footer-left{\n    text-align: left;\n}",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Salary Slip",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "<style>\n    @import url('https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap');\n    @import url('https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400..800;1,400..800&display=swap');\n</style>\n\n<div class=\"payslip\">\n    <div class=\"header-container\">\n        \n        <div class=\"logo\"><img src=\"/files/logo.png\" alt=\"Company Logo\"></div>\n        <div class=\"header\">{{ doc.company }}</div>\n    </div>\n    <div class=\"sub-header\">Payslip for the period of {{ frappe.utils.getdate(doc.start_date).strftime(\"%B %Y\") }}</div>\n    {% set employee_doc = frappe.get_doc(\"Employee\", doc.employee) %}\n    <table class=\"info-table\">\n        <tr>\n            <td><strong>Full Name:</strong> {{doc.employee_name}}</td>\n            <td><strong>Work Number:</strong> {{employee_doc.custom_worker_no}}</td>\n            <td><strong>Date:</strong> {{ frappe.utils.getdate(doc.start_date).strftime(\"%B %Y\") }}</td>\n        </tr>\n        <tr>\n            <td><strong>ID Number:</strong> {{doc.employee}}</td>\n            <td><strong>Department:</strong> {{doc.department}}</td>\n            <td><strong>Position:</strong> {{doc.designation}}</td>\n        </tr>\n        \n        <tr>\n            <td><strong>Date Joined:</strong> {{ frappe.utils.formatdate(employee_doc.date_of_joining) }}</td>\n            <td><strong>Leave Taken:</strong> {{doc.leave_without_pay}}</td>\n            <td><strong>Leave Balance:</strong> {{doc.total_working_days - doc.leave_without_pay}}</td>\n        </tr>\n        <tr>\n            <td><strong>Loan:</strong> 0.0</td>\n            <td><strong>NSSA No:</strong> {{employee_doc.custom_nssa_no}}</td>\n            <td><strong>Medical Aid No:</strong> {{employee_doc.custom_medical_no}}</td>\n        </tr>\n        <tr>\n            <td><strong>Bank:</strong> {{doc.bank_name}}</td>\n            <td><strong>Branch:</strong> {{doc.bank_name}}</td>\n            <td><strong>Account Number:</strong> {{doc.bank_account_no}}</td>\n        </tr>\n        \n        \n        \n    </table>\n    {% set additional_salary_docs = [] %}\n    {% set medical_deductions = namespace(value=0) %}\n\n    <table class=\"earnings-table\">\n        <tr>\n            <th>Earnings</th>\n            <th class=\"right\">Amount ({{doc.currency}})</th>\n            <th>Deductions</th>\n            <th class=\"right\">Amount ({{doc.currency}})</th>\n        </tr>\n        {% set max_length = [doc.earnings|length, doc.deductions|length] | max %}\n        {% set total_earnings = namespace(value=0) %}\n        {% set total_deductions = namespace(value=0) %}\n        \n        {% for index in range(max_length) %}\n        <tr>\n            {% if index < doc.earnings|length %}\n                <td>{{ doc.earnings[index].salary_component }}</td>\n                {% if doc.earnings[index].additional_salary %}\n                    {% set additional_salary_doc = frappe.get_doc(\"Additional Salary\", doc.earnings[index].additional_salary) %}\n                    {% set _ = additional_salary_docs.append(additional_salary_doc) %}\n                    <td class=\"right\">({{ additional_salary_doc.custom_amount_currency | round(2) }} {{additional_salary_doc.currency}}) {{ additional_salary_doc.amount | round(2) }}</td>\n                    {% set total_earnings.value = total_earnings.value + additional_salary_doc.amount %}\n                {% else %}\n                    <td class=\"right\">{{ doc.earnings[index].amount | round(2) }}</td>\n                    {% set total_earnings.value = total_earnings.value + doc.earnings[index].amount %}\n                {% endif %}\n            {% else %}\n                <td></td>\n                <td></td>\n            {% endif %}\n            \n            {% if index < doc.deductions|length %}\n                <td style=\"border-left: 1px solid\" class=\"red\">{{ doc.deductions[index].salary_component }}</td>\n                {% if doc.deductions[index].additional_salary %}\n                    {% set additional_salary_doc = frappe.get_doc(\"Additional Salary\", doc.deductions[index].additional_salary) %}\n                    {% set _ = additional_salary_docs.append(additional_salary_doc) %}\n                    <td class=\"right red\">({{ additional_salary_doc.custom_amount_currency | round(2) }} {{additional_salary_doc.currency}}) {{ additional_salary_doc.amount | round(2) }}</td>\n                    {% set total_deductions.value = total_deductions.value + additional_salary_doc.amount %}\n                    {% if \"MEDICAL\" in doc.deductions[index].salary_component %}\n                        {% set medical_deductions.value = medical_deductions.value + additional_salary_doc.amount %}\n                    {% endif %}\n                {% else %}\n                    <td class=\"right red\">{{ doc.deductions[index].amount | round(2) }}</td>\n                    {% set total_deductions.value = total_deductions.value + doc.deductions[index].amount %}\n                    {% if \"MEDICAL\" in doc.deductions[index].salary_component %}\n                        {% set medical_deductions.value = medical_deductions.value + doc.deductions[index].amount %}\n                    {% endif %}\n                {% endif %}\n            {% else %}\n                <td></td>\n                <td></td>\n            {% endif %}\n        </tr>\n        {% endfor %}\n        <tr class=\"total\">\n            <td>Gross</td>\n            <td class=\"right\">{{ total_earnings.value | round(2) }}</td>\n            <td style=\"border-left: 1px solid\" class=\"red\">Total Deductions</td>\n            <td class=\"right red\">{{ total_deductions.value | round(2) }}</td>\n        </tr>\n    </table>\n    <div class=\"footer\">\n        <div class=\"footer-left\">\n            {% if additional_salary_docs %}\n                {% if additional_salary_docs[0].currency and additional_salary_docs[0].currency != doc.currency %}\n                    {% set exchange_rate = additional_salary_docs[0].amount / additional_salary_docs[0].custom_amount_currency if additional_salary_docs[0].amount else 0 %}\n                    <p><strong>Rate ({{additional_salary_docs[0].currency}}):</strong> {{ exchange_rate | round(4) }}</p>\n                {% endif %}\n            {% endif %}\n             {% set tax_credit = medical_deductions.value * 0.5 %}\n             <p><strong>Benefits: </strong>{{ frappe.utils.fmt_money(tax_credit, currency=doc.currency)}}</p>\n            <p><strong>Credits: </strong>{{ frappe.utils.fmt_money(tax_credit, currency=doc.currency)}}</p>\n        </div>\n         \n        <div class=\"footer-right\">\n            <p><strong>Net Salary: </strong>{{ frappe.utils.fmt_money(doc.net_pay, currency=doc.currency)}}</p>\n            {% if additional_salary_docs %}\n                <p><strong>Net Salary ({{additional_salary_docs[0].currency}}): </strong>{{additional_salary_docs[0].amount}}</p>\n            {% endif %}\n        </div>\n    \n    </div>\n   {% set company_currency = frappe.db.get_value('Company', doc.company, 'default_currency') %}\n    \n   \n    \n\n   \n    <div class=\"signature\">\n        <span>Employer's Signature ________________</span>\n        <span>Employee's Signature ________________</span>\n    </div>\n    <p style=\"text-align:center\">Powered by @ Havano ERP Integration</p>\n</div>\n",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2025-05-20 12:28:50.241772",
 "modified_by": "Administrator",
 "module": "Havano Pos Integration",
 "name": "Salary Slip Designed",
 "owner": "Administrator",
 "page_number": "Hide",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}